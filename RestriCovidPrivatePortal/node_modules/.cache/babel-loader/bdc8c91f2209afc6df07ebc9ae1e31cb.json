{"ast":null,"code":"var _jsxFileName = \"/home/duvud/Dev/RestriCovid/RestriCovidPublicPortal/src/main/RestriCovid.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport logo from '../res/img/RestriCovid.png';\nimport styles from '../css/RestriCovid.module.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { ListaRestricciones } from '../data/Restricciones.js';\nimport { Input, Button, List, Divider, Alert } from 'antd'; //Función principal donde almacenaremos todas las funciones y los componentes\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst RestriCovid = () => {\n  _s();\n\n  //Hooks useState\n  const [codigoPostal, guardarCodigoPostal] = useState(\"\");\n  const [boolCodigoValidado, guardarCodigoValidado] = useState(null);\n  const [arRestricciones, guardarArRestricciones] = useState([]);\n  const [boolMostrarRestricciones, guardarBoolMostrarRestricciones] = useState(false);\n  /**\n   * Esta función valida el código postal asegurandose de que hay\n   * 5 numeros del 0-9 y que no haya ningún otro caracter\n   * \n   * @param {str} codigoPostal \n   * @returns false || true\n   */\n\n  const ValidarCodigoPostal = codigoPostal => {\n    return /[0-9]{5}/.test(codigoPostal) && /[^0-9]/.test(codigoPostal) === false ? true : false;\n  }; //Está función cargará los datos haciendo una petición a la API y llama al validador de código postal\n\n\n  const MostrarRestricciones = async codigoPostal => {\n    if (ValidarCodigoPostal(codigoPostal) === false) {\n      guardarCodigoValidado(false);\n    } else {\n      guardarCodigoValidado(true);\n      guardarArRestricciones(await ListaRestricciones());\n      console.log(\"objeto restricciones => \", await ListaRestricciones());\n    }\n  };\n  /**\n   * Este useEffect activa la generación de tabla de restricciones\n   * si los datos de la API han llegado\n   */\n\n\n  useEffect(() => {\n    if (arRestricciones !== [] || arRestricciones.length !== 0) {\n      guardarBoolMostrarRestricciones(true);\n    }\n  }, [arRestricciones]); //Componente que prepara el logo centrado en la parte superior de la página\n\n  function Logo(props) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${styles.dImagen} col-xl-3 col-lg-4 col-md-5 col-sm-6 col-8`,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"Logo RestriCovid\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n  /**\n   * Este componente recorrerá los datos de\n   * las restricciones proporcionados por la API\n   * y las mostrará en un panel en la parte inferior de\n   * la ventana\n   */\n\n\n  function Restricciones(props) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `m-auto col-6 text-center col-xl-5 col-lg-6 col-md-7 col-sm-9 col-12`,\n        children: [/*#__PURE__*/_jsxDEV(Divider, {\n          orientation: \"center\",\n          children: \"Restricciones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(List, {\n          bordered: true,\n          dataSource: arRestricciones,\n          renderItem: restriccion => /*#__PURE__*/_jsxDEV(List.Item, {\n            children: ` ${restriccion.poblacion}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${styles.dPostal}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'mb-1',\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Introduce tu c\\xF3digo postal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mt-6 m-auto col-xl-4 col-lg-6 col-md-7 col-sm-9 col-12`,\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          id: \"id\",\n          type: \"text\",\n          defaultValue: codigoPostal,\n          onChange: e => {\n            guardarCodigoPostal(e.target.value);\n          }\n        }, \"inputPostal\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: \"mb-5 \",\n          id: \"btnMostrarRestricciones\",\n          onClick: () => MostrarRestricciones(codigoPostal),\n          children: \"Mostrar Restricciones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), boolMostrarRestricciones === true && boolCodigoValidado === true ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `m-auto col-6 text-center col-xl-5 col-lg-6 col-md-7 col-sm-9 col-12`,\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          type: \"success\",\n          message: \"Restricciones cargadas correctamente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Restricciones, {\n          datos: arRestricciones\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : boolCodigoValidado === false ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `m-auto col-6 text-center col-xl-5 col-lg-6 col-md-7 col-sm-9 col-12`,\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          type: \"error\",\n          message: \"Por favor, introduce el formato de codigo postal correcto ('12345' por ejemplo)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this)\n    }, void 0, false) : null]\n  }, void 0, true);\n};\n\n_s(RestriCovid, \"VwVeDlW+QskqjJSx3d/0Za8mGpE=\");\n\n_c = RestriCovid;\nexport default RestriCovid;\n\nvar _c;\n\n$RefreshReg$(_c, \"RestriCovid\");","map":{"version":3,"sources":["/home/duvud/Dev/RestriCovid/RestriCovidPublicPortal/src/main/RestriCovid.js"],"names":["React","useState","useEffect","logo","styles","ListaRestricciones","Input","Button","List","Divider","Alert","RestriCovid","codigoPostal","guardarCodigoPostal","boolCodigoValidado","guardarCodigoValidado","arRestricciones","guardarArRestricciones","boolMostrarRestricciones","guardarBoolMostrarRestricciones","ValidarCodigoPostal","test","MostrarRestricciones","console","log","length","Logo","props","dImagen","Restricciones","restriccion","poblacion","dPostal","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport logo from '../res/img/RestriCovid.png';\nimport styles from '../css/RestriCovid.module.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { ListaRestricciones } from '../data/Restricciones.js';\nimport { Input, Button, List, Divider, Alert } from 'antd';\n\n\n//Función principal donde almacenaremos todas las funciones y los componentes\nconst RestriCovid = () => {\n  //Hooks useState\n  const [codigoPostal, guardarCodigoPostal] = useState(\"\");\n  const [boolCodigoValidado, guardarCodigoValidado] = useState(null);\n  const [arRestricciones, guardarArRestricciones] = useState([]);\n  const [boolMostrarRestricciones, guardarBoolMostrarRestricciones] = useState(false);\n  \n\n  /**\n   * Esta función valida el código postal asegurandose de que hay\n   * 5 numeros del 0-9 y que no haya ningún otro caracter\n   * \n   * @param {str} codigoPostal \n   * @returns false || true\n   */\n  const ValidarCodigoPostal = codigoPostal => {\n    return /[0-9]{5}/.test(codigoPostal) && /[^0-9]/.test(codigoPostal) === false ?  true : false\n  }\n\n  //Está función cargará los datos haciendo una petición a la API y llama al validador de código postal\n  const MostrarRestricciones = async codigoPostal => {\n    if(ValidarCodigoPostal(codigoPostal) === false){\n      guardarCodigoValidado(false);\n    }else{\n      guardarCodigoValidado(true);\n      guardarArRestricciones(await ListaRestricciones());\n      console.log(\"objeto restricciones => \", await ListaRestricciones());\n    }\n  }\n\n  /**\n   * Este useEffect activa la generación de tabla de restricciones\n   * si los datos de la API han llegado\n   */\n  useEffect(() => {\n    if (arRestricciones !== [] || arRestricciones.length !== 0) {\n      guardarBoolMostrarRestricciones(true);\n    }\n  }, [arRestricciones]);\n\n  //Componente que prepara el logo centrado en la parte superior de la página\n  function Logo(props) {\n    return (\n      <div className={`${styles.dImagen} col-xl-3 col-lg-4 col-md-5 col-sm-6 col-8`}>\n        <img src={logo} alt=\"Logo RestriCovid\" />\n      </div>\n    );\n  }\n\n  /**\n   * Este componente recorrerá los datos de\n   * las restricciones proporcionados por la API\n   * y las mostrará en un panel en la parte inferior de\n   * la ventana\n   */\n  function Restricciones(props) {\n    return (\n      <>\n        <div className={`m-auto col-6 text-center col-xl-5 col-lg-6 col-md-7 col-sm-9 col-12`}>\n          <Divider orientation=\"center\">Restricciones</Divider>\n          <List\n            bordered\n            dataSource={arRestricciones}\n            renderItem={restriccion => (\n            <List.Item>\n                {` ${restriccion.poblacion}`}\n            </List.Item>\n            )}\n           />\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Logo></Logo>\n      <div className={`${styles.dPostal}`}>\n        <div className={'mb-1'}>\n          <label>Introduce tu código postal</label>\n        </div>\n        <div className={`mt-6 m-auto col-xl-4 col-lg-6 col-md-7 col-sm-9 col-12`}>\n          <Input\n            id=\"id\"\n            key={\"inputPostal\"}\n            type=\"text\"\n            defaultValue={codigoPostal}\n            onChange={(e) => {\n              guardarCodigoPostal(e.target.value);\n            }}\n          />\n        </div>\n\n        <div className={\"mt-3\"}>\n          <Button\n            className={\"mb-5 \"}\n            id=\"btnMostrarRestricciones\"\n            onClick={() => MostrarRestricciones(codigoPostal)}\n          >\n            Mostrar Restricciones\n          </Button>\n        </div>\n      </div>\n      {boolMostrarRestricciones === true && boolCodigoValidado === true ? (\n        <>\n          <div className={`m-auto col-6 text-center col-xl-5 col-lg-6 col-md-7 col-sm-9 col-12`}>\n            <Alert type=\"success\" message=\"Restricciones cargadas correctamente\" />\n          </div>\n          <div >\n            <Restricciones datos={arRestricciones}></Restricciones>\n          </div>\n        </>\n      ) : boolCodigoValidado === false ? (\n        <>\n          <div className={`m-auto col-6 text-center col-xl-5 col-lg-6 col-md-7 col-sm-9 col-12`}>\n            <Alert type=\"error\" message=\"Por favor, introduce el formato de codigo postal correcto ('12345' por ejemplo)\" />\n          </div>\n        </>\n      ) : null}\n    </>\n  );\n}\n\nexport default RestriCovid;\n"]},"metadata":{},"sourceType":"module"}